<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>vCenter Server 7.0 – Fresh install | IT Gaiden</title>
<meta name="keywords" content="vCenter, VMware, vSphere7" />
<meta name="description" content="Prologue With the release of vSphere 7 at the beginning of this month, I decided to make a post about how to install vCenter Server Appliance (vCSA) which is quite simple.Which are the new features? Check this postfrom my friend Graham Barker to find out! Let’s move on!Prerequisite:We need DNSif we want to deploy vCenter with an FQDN but if you don’t have it or you can’t for any reason, you can trick the installer and put the IP address as the hostname and it will work.">
<meta name="author" content="itgaiden">
<link rel="canonical" href="https://dangaiden.github.io/?p=1573/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.35cd0f65a15cafa92372b8313deef5960aae04b90ad722f2bbf509eb0468137e.css" integrity="sha256-Nc0PZaFcr6kjcrgxPe71lgquBLkK1yLyu/UJ6wRoE34=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js" integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5&#43;kdJvBz5iKbt6B5PJI="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://dangaiden.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://dangaiden.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://dangaiden.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://dangaiden.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://dangaiden.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.85.0" />
<meta property="og:title" content="vCenter Server 7.0 – Fresh install" />
<meta property="og:description" content="Prologue With the release of vSphere 7 at the beginning of this month, I decided to make a post about how to install vCenter Server Appliance (vCSA) which is quite simple.Which are the new features? Check this postfrom my friend Graham Barker to find out! Let’s move on!Prerequisite:We need DNSif we want to deploy vCenter with an FQDN but if you don’t have it or you can’t for any reason, you can trick the installer and put the IP address as the hostname and it will work." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://dangaiden.github.io/?p=1573/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-04-28T11:19:58&#43;00:00" />
<meta property="article:modified_time" content="2020-04-28T11:19:58&#43;00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="vCenter Server 7.0 – Fresh install"/>
<meta name="twitter:description" content="Prologue With the release of vSphere 7 at the beginning of this month, I decided to make a post about how to install vCenter Server Appliance (vCSA) which is quite simple.Which are the new features? Check this postfrom my friend Graham Barker to find out! Let’s move on!Prerequisite:We need DNSif we want to deploy vCenter with an FQDN but if you don’t have it or you can’t for any reason, you can trick the installer and put the IP address as the hostname and it will work."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Posts",
      "item": "https://dangaiden.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "vCenter Server 7.0 – Fresh install",
      "item": "https://dangaiden.github.io/?p=1573/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "vCenter Server 7.0 – Fresh install",
  "name": "vCenter Server 7.0 – Fresh install",
  "description": "Prologue With the release of vSphere 7 at the beginning of this month, I decided to make a post about how to install vCenter Server Appliance (vCSA) which is quite simple.Which are the new features? Check this postfrom my friend Graham Barker to find out! Let’s move on!Prerequisite:We need DNSif we want to deploy vCenter with an FQDN but if you don’t have it or you can’t for any reason, you can trick the installer and put the IP address as the hostname and it will work.",
  "keywords": [
    "vCenter", "VMware", "vSphere7"
  ],
  "articleBody": "Prologue With the release of vSphere 7 at the beginning of this month, I decided to make a post about how to install vCenter Server Appliance (vCSA) which is quite simple.Which are the new features? Check this postfrom my friend Graham Barker to find out! Let’s move on!Prerequisite:We need DNSif we want to deploy vCenter with an FQDN but if you don’t have it or you can’t for any reason, you can trick the installer and put the IP address as the hostname and it will work.Another prerequisite will be to have an ESXi hostwhere we’re going to install our vCenterStage 1 – New deployment 1.We will proceed to select installas we are going to perform a fresh install from the scratch of vCenter Server 7.0.2.I like that it tells you that External PSC is deprecated! Continue with NEXT.3.Just put the details of a vCenter (if you have one) or an ESXi host where you want to deploy this new vCenter. In my case (and probably the most if you’re doing everything from the scratch) I am using a host called «johto.pokemon.jp» to deploy the vCSA. Once you press next, accept the certificate warning if you know the fingerprint of the certificate. 4.Put the name of the VM and set the root password for the vCSA and continue.5.I am going for the Tinydeployment as it is more than enough for my lab environment. In a production environment usually, you will deploy a small one that fits in many small companies (or in your lab if you’re testing it).6.Continue by selecting a Datastore and check » Enable Thin Disk Mode» which is usually the best deployment as it doesn’t allocate all the space and is also enabled by default. (Look even my VMFS-5 datastores work well).7.Now, let’s configure the network settings. Here my Network you can see a portgroup «Std_mgmt» from my ESXi host. If you have an ESXi host with default portgroups, yours probably is called «VM Network«.About the FQDN, as I said before (check the Prerequisite section in the beginning) you need to create an A record in your DNS in order to be able to deploy a vCenter with a name. If you don’t have DNS because you’re installing vCenter and you don’t have it, you can use the IP address as FQDN and it will work. 8.And that’s all for stage 1, here we have a summary saying what is going to do. Be sure to review it:Once you’re ready, press FINISH. It will start with Stage 1, which is the deployment of the VM where the vCenter Server resides:After some minutes, STAGE 1 is completed, which means that the VM where the vCSA resides is deployed but not configured yet.Stage 2 – Configuration Let’s go to STAGE 2 where the vCSA will be configured. 1.Set an NTP server or let the ESXi host also enable SSH if you want to have access to the vCSA.2.Configure the SSO, the default is the «vsphere.local» domain, in my case I created a custom one.3.And the last summary after we finish Stage 2 when the vCenter will be fully configured.4.After a while (15-20 min.), Stage 2 finished without errors!5.Now I access the GUI from the URL provided in the previous screenshot and I see that is working flawlessly!6. Enjoy your new vCenter Server with the only HTML5 interface and lots of new features that were mentioned at the beginning of this post. We conclude this article where you can see how simple and easy is to install and deploy vCenter Server version 7.0.   ",
  "wordCount" : "593",
  "inLanguage": "en",
  "datePublished": "2020-04-28T11:19:58Z",
  "dateModified": "2020-04-28T11:19:58Z",
  "author":{
    "@type": "Person",
    "name": "itgaiden"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://dangaiden.github.io/?p=1573/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "IT Gaiden",
    "logo": {
      "@type": "ImageObject",
      "url": "https://dangaiden.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<noscript>
    <style type="text/css">
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: #1d1e20;
                --entry: #2e2e33;
                --primary: rgba(255, 255, 255, 0.84);
                --secondary: rgba(255, 255, 255, 0.56);
                --tertiary: rgba(255, 255, 255, 0.16);
                --content: rgba(255, 255, 255, 0.74);
                --hljs-bg: #2e2e33;
                --code-bg: #37383e;
                --border: #333;
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://dangaiden.github.io" accesskey="h" title="IT Gaiden (Alt + H)">IT Gaiden</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      vCenter Server 7.0 – Fresh install
    </h1>
    <div class="post-meta">April 28, 2020&nbsp;·&nbsp;itgaiden
</div>
  </header> 
  <div class="post-content"><h1 id="span-stylecolor-000000-font-size-28pxstrongspan-stylefont-family-nunitoprologuespanstrongspan"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Prologue<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><a hidden class="anchor" aria-hidden="true" href="#span-stylecolor-000000-font-size-28pxstrongspan-stylefont-family-nunitoprologuespanstrongspan">#</a></h1>
<p><!-- raw HTML omitted -->With the release of vSphere 7 at the beginning of this month, I decided to make a post about how to install vCenter Server Appliance (vCSA) which is quite simple.<!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->Which are the new features? <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Check this <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->post<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> from my friend Graham Barker to find out!<!-- raw HTML omitted --> <!-- raw HTML omitted --></p>
<p> </p>
<p><!-- raw HTML omitted -->Let’s move on!<!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->Prerequisite:<!-- raw HTML omitted --> We <!-- raw HTML omitted -->need DNS<!-- raw HTML omitted --> if we want to deploy vCenter with an FQDN but if you don’t have it or you can’t for any reason, you can trick the installer and put the IP address as the hostname and it will work.<!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted -->Another prerequisite will be to <!-- raw HTML omitted -->have an ESXi host<!-- raw HTML omitted --> where we’re going to install our vCenter<!-- raw HTML omitted --></p>
<h1 id="span-stylefont-size-28pxstrongspan-stylefont-family-nunito-color-000000stage-1-8211-new-deploymentspanstrongspan"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Stage 1 – New deployment<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><a hidden class="anchor" aria-hidden="true" href="#span-stylefont-size-28pxstrongspan-stylefont-family-nunito-color-000000stage-1-8211-new-deploymentspanstrongspan">#</a></h1>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->1.<!-- raw HTML omitted --> We will proceed to select <!-- raw HTML omitted -->install<!-- raw HTML omitted --> as we are going to perform a fresh install from the scratch of vCenter Server 7.0.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->2.<!-- raw HTML omitted --> I like that it tells you that External PSC is deprecated! Continue with <!-- raw HTML omitted -->NEXT.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->3.<!-- raw HTML omitted --> Just put the details of a vCenter (if you have one) or an ESXi host where you want to deploy this new vCenter. In my case (and probably the most if you’re doing everything from the scratch) I am using a host called «johto.pokemon.jp» to deploy the vCSA.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<blockquote>
<p><!-- raw HTML omitted -->Once you press next, accept the certificate warning if you know the fingerprint of the certificate.<!-- raw HTML omitted --></p>
</blockquote>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->4.<!-- raw HTML omitted --> Put the name of the VM and set the root password for the vCSA and continue.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->5.<!-- raw HTML omitted --> I am going for the <!-- raw HTML omitted -->Tiny<!-- raw HTML omitted --> deployment as it is more than enough for my lab environment. In a production environment usually, you will deploy a small one that fits in many small companies (or in your lab if you’re testing it).<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->6.<!-- raw HTML omitted --> Continue by selecting a Datastore and check » Enable Thin Disk Mode» which is usually the best deployment as it doesn’t allocate all the space and is also enabled by default. (Look even my VMFS-5 datastores work well).<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->7.<!-- raw HTML omitted --> Now, let’s configure the network settings. Here my Network you can see a portgroup «Std_mgmt» from my ESXi host. If you have an ESXi host with default portgroups, yours probably is called «<!-- raw HTML omitted -->VM Network<!-- raw HTML omitted -->«.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted -->About the FQDN, as I said before (check the Prerequisite section in the beginning) you need to create an A record in your DNS in order to be able to deploy a vCenter with a name.<!-- raw HTML omitted --></p>
<blockquote>
<p><!-- raw HTML omitted -->If you don’t have DNS because you’re installing vCenter and you don’t have it, <!-- raw HTML omitted -->you can use the IP address as FQDN and it will work<!-- raw HTML omitted -->.<!-- raw HTML omitted --></p>
</blockquote>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->8.<!-- raw HTML omitted --> And that’s all for stage 1, here we have a summary saying what is going to do. Be sure to review it:<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> Once you’re ready, press <!-- raw HTML omitted -->FINISH.<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p> </p>
<p><!-- raw HTML omitted -->It will start with Stage 1, which is the deployment of the VM where the vCenter Server resides:<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted -->After some minutes, <!-- raw HTML omitted -->STAGE 1 is completed<!-- raw HTML omitted -->, which means that the VM where the vCSA resides is deployed but not configured yet.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h1 id="span-stylecolor-000000-font-size-28pxstrongspan-stylefont-family-nunitostage-2-8211-configurationspanstrongspan"><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted -->Stage 2 – Configuration<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><a hidden class="anchor" aria-hidden="true" href="#span-stylecolor-000000-font-size-28pxstrongspan-stylefont-family-nunitostage-2-8211-configurationspanstrongspan">#</a></h1>
<h2 id="span-stylefont-family-nunito-font-size-16pxlet8217s-go-to-stage-2-where-the-vcsa-will-be-configuredspanimg-loadinglazy-classalignnone-wp-image-1703-srchttpwpdockerlocalhost8000wp-contentuploads20200411_stage2_start-1png-alt-width611-height419-srcsethttpwpdockerlocalhost8000wp-contentuploads20200411_stage2_start-1png-938w-httpwpdockerlocalhost8000wp-contentuploads20200411_stage2_start-1-300x206png-300w-httpwpdockerlocalhost8000wp-contentuploads20200411_stage2_start-1-768x527png-768w-sizesmax-width-611px-100vw-611px-"><strong><!-- raw HTML omitted -->Let’s go to STAGE 2 where the vCSA will be configured.<!-- raw HTML omitted --></strong><!-- raw HTML omitted --><a hidden class="anchor" aria-hidden="true" href="#span-stylefont-family-nunito-font-size-16pxlet8217s-go-to-stage-2-where-the-vcsa-will-be-configuredspanimg-loadinglazy-classalignnone-wp-image-1703-srchttpwpdockerlocalhost8000wp-contentuploads20200411_stage2_start-1png-alt-width611-height419-srcsethttpwpdockerlocalhost8000wp-contentuploads20200411_stage2_start-1png-938w-httpwpdockerlocalhost8000wp-contentuploads20200411_stage2_start-1-300x206png-300w-httpwpdockerlocalhost8000wp-contentuploads20200411_stage2_start-1-768x527png-768w-sizesmax-width-611px-100vw-611px-">#</a></h2>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->1.<!-- raw HTML omitted --> Set an NTP server or let the ESXi host also enable SSH if you want to have access to the vCSA.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->2.<!-- raw HTML omitted --> Configure the SSO, the default is the «vsphere.local» domain, in my case I created a custom one.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->3.<!-- raw HTML omitted --> And the last summary after we finish Stage 2 when the vCenter will be fully configured.<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->4.<!-- raw HTML omitted --> After a while (15-20 min.), Stage 2 finished without errors!<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->5.<!-- raw HTML omitted --> Now I access the GUI from the URL provided in the previous screenshot and I see that is working flawlessly!<!-- raw HTML omitted --> <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->6<!-- raw HTML omitted -->. Enjoy your new vCenter Server with the only HTML5 interface and lots of new features that were mentioned at the beginning of this post.<!-- raw HTML omitted --> <!-- raw HTML omitted --></p>
<p> </p>
<p><!-- raw HTML omitted -->We conclude this article where you can see how simple and easy is to install and deploy vCenter Server version 7.0.<!-- raw HTML omitted --></p>
<p> </p>
<h2 id="heading"><a hidden class="anchor" aria-hidden="true" href="#heading">#</a></h2>
<p> </p>


  </div>
  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://dangaiden.github.io/tags/vcenter/">vCenter</a></li>
      <li><a href="https://dangaiden.github.io/tags/vmware/">VMware</a></li>
      <li><a href="https://dangaiden.github.io/tags/vsphere7/">vSphere7</a></li>
    </ul>
  </footer>
</article>
    </main>
    <footer class="footer">
    <span>&copy; 2021 <a href="https://dangaiden.github.io">IT Gaiden</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)">
    <button class="top-link" id="top-link" type="button" accesskey="g">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z" />
        </svg>
    </button>
</a>

<script>
    let menu = document.getElementById('menu')
    menu.scrollLeft = localStorage.getItem("menu-scroll-position");
    menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
